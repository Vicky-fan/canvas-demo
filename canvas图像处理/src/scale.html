<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <title> scale </title>
    <link href="css/global.css" rel="stylesheet">
</head>

<body>

	<canvas id="canvas" style="display: block; margin: 0 auto; padding: 0; border: 1px solid #ccc;">
		您的浏览器尚不支持canvas
	</canvas>
	<div id="info">
		<input id="scaleRange" type="range" min="0.5" max="3.0" step="0.01" value="0.1" style="width: 400px; margin: 20px auto 0; display: block;">
		<div id="scaleSize" style="text-align: center; font-size: 20px;"></div>
	</div>


<script>
	var canvas = document.getElementById('canvas');
	var ctx = canvas.getContext('2d');
	var scaleRange = document.getElementById('scaleRange');
	var img = new Image();

	window.onload = function() {
		canvas.width = 500;
		canvas.height = 320;
		img.src = 'img/naruto.jpg';
		var size = scaleRange.value;

		img.onload = function() {
			handlerImage(size);
			scaleRange.onmousemove = function() {
				size = scaleRange.value;
				handlerImage(size);	
			}
		};

		function handlerImage(size) {
			document.getElementById('scaleSize').innerHTML = size;
			var imgInitW = img.width;
			var imgInitH = img.height;
			var imgNewW = imgInitW * size;
			var imgNewH = imgInitH * size;
			var dx = (imgInitW - imgNewW) / 2;
			var dy = (imgInitH - imgNewH) / 2;
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			ctx.drawImage(img, dx, dy, imgNewW, imgNewH);
		};
	}

</script>
</body>

</html>
